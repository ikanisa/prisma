# Grafana Dashboard Configuration for Knowledge Base Monitoring
# Import this JSON into Grafana to get instant monitoring

{
  "dashboard": {
    "id": null,
    "uid": "knowledge-base",
    "title": "Accounting Knowledge Base - System Dashboard",
    "tags": ["knowledge-base", "accounting", "rag"],
    "timezone": "browser",
    "schemaVersion": 16,
    "version": 0,
    "refresh": "30s",
    "panels": [
      {
        "id": 1,
        "gridPos": {"h": 8, "w": 12, "x": 0, "y": 0},
        "type": "graph",
        "title": "Query Volume (Last 24h)",
        "targets": [
          {
            "format": "time_series",
            "rawSql": "SELECT time_bucket('5 minutes', created_at) AS time, COUNT(*) as queries FROM agent_queries_log WHERE created_at > NOW() - INTERVAL '24 hours' GROUP BY time ORDER BY time"
          }
        ]
      },
      {
        "id": 2,
        "gridPos": {"h": 8, "w": 12, "x": 12, "y": 0},
        "type": "graph",
        "title": "Average Query Latency",
        "targets": [
          {
            "format": "time_series",
            "rawSql": "SELECT time_bucket('5 minutes', created_at) AS time, AVG(latency_ms) as avg_latency FROM agent_queries_log WHERE created_at > NOW() - INTERVAL '24 hours' GROUP BY time ORDER BY time"
          }
        ]
      }
    ]
  }
}
