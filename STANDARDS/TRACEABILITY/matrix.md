# Traceability Matrix — Accounting Close Foundation (A-1)

| Standard / Regulation | Clause reference | Control / Requirement | Implementation (code or schema) | Evidence captured |
| --- | --- | --- | --- | --- |
| IAS 1 | 15-25, 54-60 | Maintain complete ledger and chart of accounts aligned to presentation lines. | `ledger_accounts`, `coa_map`, draft financials endpoint (`apps/web/app/api/financials/draft/route.ts`). | Trial balance snapshots, FS mapping ActivityLog (`FS_MAPPING_APPLIED`). |
| IAS 1 | 134-138 | Document material variances vs prior period/budget and obtain explanations. | `variance_rules`, `variance_results`, variance run API (`apps/web/app/api/variance/run/route.ts`). | Variance run ActivityLog (`VARIANCE_RUN`), variance result rows with status/explanations. |
| IAS 7 | 18-20, 43 | Capture cash balances and reconciling items before issuing cash flow statement. | `reconciliations` (type=BANK), reconciliation API (`apps/web/app/api/recon/*`). | Reconciliation schedules (document id), ActivityLog (`RECON_CLOSED`). |
| IAS 7 | 30-31 | Maintain working capital reconciliations (AR/AP/GRNI) feeding indirect cash flow. | Reconciliation schema + Close lock validation in `apps/web/app/api/close/lock/route.ts`. | Closed reconciliations recorded with difference zero prior to lock. |
| IAS 21 | 9-23 | Identify foreign currency balances and prepare remeasurement suggestions. | FX remeasure endpoint (`apps/web/app/api/fx/remeasure/route.ts`). | Remeasure preview payload stored in ActivityLog (`FX_REMEASURE_PREVIEW` when invoked). |
| IAS 8 / IAS 10 (errors/events) | 5, 41 | Capture audit trail for adjustments via controlled journal batches. | `journal_batches`, `ledger_entries`, journal API workflow. | ActivityLog (`JE_BATCH_CREATED`, `JE_SUBMITTED`, `JE_APPROVED`, `JE_POSTED`). |
| EU Accounting Directive 2013/34/EU | Art. 4-6 | Ensure reliable accounting records and periodic closings. | Close lifecycle schema (`close_period`, `close_pbc_items`) and APIs. | Close status ActivityLog (`CLOSE_ADVANCED`, `CLOSE_LOCKED`), approvals table entries. |
| EU Accounting Directive 2013/34/EU | Art. 36-40 | Management responsibility for internal control and documentation. | PBC template (`CHECKLISTS/ACCOUNTING/close_pbc_template.yaml`), ActivityLog, approvals. | PBC items stored with document links and reviewer status. |
| Malta GAPSME | Regs. 18-27 | SME close discipline matching IFRS-based controls. | Same close workflow applies irrespective of basis; FS basis stored on `fs_lines`. | Evidence identical to IFRS path; basis flag on `fs_lines`/`coa_map`. |
| ISA 330 (audit evidence) | 18-24 | Provide auditors with evidence for controls over financial reporting. | ActivityLog + document management for PBC/reconciliations/journals. | Exported schedules, TB snapshots, ActivityLog entries. |
| ISA 500 | 6-9 | Maintain complete audit trail for balances and transactions. | Trial balance snapshot table, journaling controls, recon exports. | Snapshot records with totals, ledger entries cross-reference. |
| Internal policy | Close governance policy | Documented responsibilities, controls and approvals. | `/STANDARDS/POLICY/close_governance.md`, approvals enforcement in APIs. | Policy acknowledgement plus approvals recorded in Supabase `approvals`. |

| ISA 315 (Revised) | 12-23, 26-29 | Maintain controls register with cycle, objective, frequency, and key designation tied to engagements. | `public.controls` schema (`supabase/sql/audit_CTRL1_schema.sql`), create/update/list APIs (`apps/web/app/api/controls/*`). | ActivityLog entries (`CTRL_ADDED`, `CTRL_UPDATED`), control rows with timestamps. |
| ISA 330 | 18-26 | Document walkthrough procedures and attributes testing results for key controls with sample sizes ≥25. | Walkthrough/testing tables (`control_walkthroughs`, `control_tests`), Sampling C1 integration (`apps/web/lib/audit/sampling-client.ts`, `/api/controls/test/run`), audit workspace UI (`apps/web/app/audit/controls/page.tsx`). | Walkthrough/test inserts linked to user ids; sampling plans stored with source + population refs; ActivityLog `CTRL_TEST_RUN` metadata incl. sample size/exceptions. |
| ISA 265 | 7-11 | Escalate control deficiencies with severity and recommendation to TCWG reporting packs. | `public.deficiencies` schema, auto-creation in test run route (`apps/web/app/api/controls/test/run/route.ts`), manual deficiency endpoint. | ActivityLog (`CTRL_DEFICIENCY_RAISED`), deficiency status stored with recommendation text, TCWG panel evidence. |
| ITGC coverage | ISA 315.A128, ISA 330.A44 | Track supporting access/change/operations ITGC groups for audit cycles. | `public.itgc_groups` schema and inclusion in controls API response; UI ITGC panel. | ITGC group rows linked to engagement with scope/notes. |
| Firm policy | Audit controls governance | Documented methodology for controls register, walkthroughs, testing, and deficiency workflow. | `/STANDARDS/POLICY/audit_controls_itgc.md`. | Policy referencing ISA 315/330/265, alignments noted in governance pack. |
| ISA 500 / ISA 520 | 6-12, 5-7 | Run deterministic analytics with dataset lineage, parameters, and exception capture. | `public.ada_runs`, `public.ada_exceptions`, analytics engine (`apps/web/lib/audit/analytics-engine.ts`), API routes (`apps/web/app/api/ada/run/route.ts`, `apps/web/app/api/ada/exception/update/route.ts`). | ActivityLog (`ADA_RUN_STARTED`, `ADA_RUN_COMPLETED`, `ADA_EXCEPTION_ADDED`), run summary JSON with dataset hash and sample list for sampling/TCWG. |
| IAASB ATT | 14-18 | Preserve ATT evidence packs (inputs, procedures, outputs, exceptions) for analytics. | ADA workspace UI (`apps/web/app/audit/analytics/page.tsx`) with CSV export and sampling hand-off, policy note (`/STANDARDS/POLICY/audit_analytics_kernel.md`). | Exported CSV artefacts, dataset hash + parameters in `ada_runs.summary`, exception trail with dispositions (`ADA_EXCEPTION_RESOLVED`). |

> Evidence references assume archive hooks (A-1 scope) capture document ids and ActivityLog entries upon completion.
